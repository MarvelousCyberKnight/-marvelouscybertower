<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="/formd.js"></script>
    <link rel="stylesheet" href="/Css/mdb.min.css">
    <script src="/js/mdb.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="icon" type="image/png" href="/Images/finallogo.png"><title>Login</title>
  </head>
  <body>
    <section class="vh-100">
        <div class="container py-5 h-100">
          <div class="row d-flex align-items-center justify-content-center h-100">
            <div class="col-md-8 col-lg-7 col-xl-6">
              <img src="/Images/Login.jpg"
                class="img-fluid" alt="Phone image">
            </div>
            <div class="col-md-7 col-lg-5 col-xl-5 offset-xl-1">
              <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4" style="color: black;">Log In</p>
              <form action="http://localhost:5501/home" enctype="application/x-www-form-urlencoded" method="POST">
                <!-- Email input -->
                <div class="mb-3 mt-3">
                  <label class="form-label" for="form1Example13" style="color: black;">Username</label>
                  <input type="text" id="form1Example13" class="form-control form-control-lg" name="uname" required />
                </div>
      
                <!-- Password input -->
                <div class="mb-4">
                  <label class="form-label" for="form1Example23" style="color: black;">Password</label>
                  <input type="password" id="form1Example23" class="form-control form-control-lg" name="password" required />
                </div>
      
                <div class="d-flex justify-content-around align-items-center mb-4">
          
                </div>
      
                <!-- Submit button -->
                <button type="submit" class="btn btn-primary btn-lg btn-block">Log in</button>
      
                
      
              </form>
            </div>
          </div>
        </div>
      </section>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const errorMessage = urlParams.get('error');
      if (errorMessage) {
        const alertDiv = document.createElement('div');
            alertDiv.classList.add('alert', 'alert-danger', 'show-alert'); // Add the 'show-alert' class for the jitter animation
            
            const closeButton = document.createElement('span');
            closeButton.classList.add('close-button');
            closeButton.innerHTML = '&times;';
            
            closeButton.onclick = function() {
                alertDiv.classList.remove('show-alert'); // Remove the 'show-alert' class to initiate fade-out animation
                setTimeout(() => {
                    alertDiv.style.display = 'none'; // Hide the alert box after the animation
                    clearErrorParam(); // Clear the error parameter from the URL
                }, 400); // Adjust the timeout duration to match your CSS transition duration
            };
            
            const strongTag = document.createElement('strong');
            strongTag.textContent = '';
            
            const message = document.createTextNode(' ' + errorMessage);
            
            alertDiv.appendChild(closeButton);
            alertDiv.appendChild(strongTag);
            alertDiv.appendChild(message);
            
            document.body.appendChild(alertDiv);
        }
        
        function clearErrorParam() {
            // Remove the error parameter from the URL
            if (window.history && window.history.pushState) {
                const url = window.location.href.split('?')[0];
                window.history.pushState({}, document.title, url);
            }
        }
    </script>
    
    <style>
        .alert {
            padding: 15px;
            margin-top: 10px;
            border: 1px solid transparent;
            border-radius: 4px;
            position: relative;
            opacity: 0; /* Initially hidden */
            animation: jitter 0.4s ease-in-out; /* Jitter animation during display */
            color: white; /* Set text color to white */
            width:50%;
            top:-600px;
            left:340px;
        }
        .show-alert {
            opacity: 1; /* Show the alert with animation */
        }
        .alert-danger {
            background-color: #d9534f;
            border-color: #ebccd1;
        }
        .close-button {
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
        }
        
        @keyframes jitter {
            0% {
                transform: translateX(0);
            }
            20% {
                transform: translateX(-5px);
            }
            40% {
                transform: translateX(5px);
            }
            60% {
                transform: translateX(-5px);
            }
            80% {
                transform: translateX(5px);
            }
            100% {
                transform: translateX(0);
            }
        }
    </style>
</body>
</html>